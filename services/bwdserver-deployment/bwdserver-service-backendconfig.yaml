kind: BackendConfig
apiVersion: cloud.google.com/v1
metadata:
  name: bwdserver-service-backendconfig
  namespace: default
spec:
  # A backendconfig allows us to configure how a load balancer talks to a service.
  healthCheck:
    # Lets see how this goes for now
    requestPath: "/k8s/livenessProbe"
    type: HTTP
    port: 31002 # the nodeport from bwdserver-service
    # Host is not allowed here, but it has been manually set on this healthcheck so
    # that the server can recognize this is a healthcheck and not a granduser request
    # host: bwdserver-healthcheck
  logging:
    # Changing this setting didn't seem to do anything - I needed to Edit it in the
    # GCP web console (or presumably using the gcloud command line utilily)
    enable: true
