open Core_kernel

let init ~run_side_effects =
  try
    if not !has_inited
    then (
      Caml.print_endline "Libbackend Initialization Begins" ;
      (* libexecution *)
      if run_side_effects
      then (
        Account.init () ;
        Canvas.write_shape_data () ) ;
      if Config.check_tier_one_hosts then Canvas.check_tier_one_hosts () ;
      has_inited := true )
